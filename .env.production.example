# ================================================================
# NPE MANAGER PRODUCTION ENVIRONMENT VARIABLES
# ================================================================
# Copy this file to .env and fill in all values
# NEVER commit .env to version control!
# ================================================================

# ----------------------------------------------------------------
# SERVER CONFIGURATION
# ----------------------------------------------------------------
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# Your production domain (no trailing slash)
APP_URL=https://your-domain.com
API_URL=https://api.your-domain.com

# ----------------------------------------------------------------
# SESSION & SECURITY
# ----------------------------------------------------------------
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET=REPLACE_WITH_STRONG_SECRET_64_CHARS

# Session timeout in seconds (3600 = 1 hour)
SESSION_TIMEOUT=3600

# Encryption key for sensitive data (32 bytes hex)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=REPLACE_WITH_ENCRYPTION_KEY_32_BYTES

# ----------------------------------------------------------------
# REDIS CONFIGURATION
# ----------------------------------------------------------------
# Option 1: Standard Redis URL
REDIS_URL=redis://your-redis-host:6379

# Option 2: Redis with password
# REDIS_URL=redis://:your-password@your-redis-host:6379

# Option 3: Vercel KV (Redis compatible)
# KV_REST_API_URL=https://your-kv-rest-api-url
# KV_REST_API_TOKEN=your-kv-rest-api-token

# Redis password (if required)
REDIS_PASSWORD=your-redis-password

# Redis database number (0-15)
REDIS_DB=0

# ----------------------------------------------------------------
# LIT PROTOCOL CONFIGURATION
# ----------------------------------------------------------------
# Network: 'datil-dev' for testnet, 'datil' for mainnet
LIT_NETWORK=datil-dev

# Lit RPC URL
LIT_RPC_URL=https://chain-rpc.litprotocol.com/http

# Capacity Credit Token ID (for paying for Lit actions)
LIT_CAPACITY_CREDIT_TOKEN_ID=your-capacity-token-id

# PKP Configuration
PKP_PUBLIC_KEY=0xYourPKPWalletAddress
PKP_ETH_ADDRESS=0xYourPKPEthAddress

# ----------------------------------------------------------------
# CORS CONFIGURATION
# ----------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGIN=https://your-y8-app.com,https://admin.your-domain.com
ALLOWED_ORIGINS=https://your-y8-app.com,https://admin.your-domain.com

# ----------------------------------------------------------------
# WEBAUTHN / BIOMETRIC AUTH CONFIGURATION
# ----------------------------------------------------------------
# Relying Party (your domain)
WEBAUTHN_RP_NAME=NPE Manager
WEBAUTHN_RP_ID=your-domain.com
WEBAUTHN_ORIGIN=https://your-domain.com

# ----------------------------------------------------------------
# SOCIAL AUTH PROVIDERS
# ----------------------------------------------------------------
# Google OAuth 2.0
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=https://api.your-domain.com/auth/google/callback

# Discord OAuth 2.0
DISCORD_CLIENT_ID=your-discord-client-id
DISCORD_CLIENT_SECRET=your-discord-client-secret
DISCORD_CALLBACK_URL=https://api.your-domain.com/auth/discord/callback

# GitHub OAuth 2.0
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=https://api.your-domain.com/auth/github/callback

# Twitter/X OAuth 2.0
TWITTER_CLIENT_ID=your-twitter-client-id
TWITTER_CLIENT_SECRET=your-twitter-client-secret
TWITTER_CALLBACK_URL=https://api.your-domain.com/auth/twitter/callback

# ----------------------------------------------------------------
# API RATE LIMITING
# ----------------------------------------------------------------
# Maximum requests per window
API_RATE_LIMIT=100

# Time window in milliseconds (60000 = 1 minute)
API_RATE_WINDOW=60000

# Rate limit for unauthenticated requests
API_RATE_LIMIT_ANONYMOUS=20

# ----------------------------------------------------------------
# MONITORING & LOGGING
# ----------------------------------------------------------------
# Log level: 'error' | 'warn' | 'info' | 'debug' | 'verbose'
LOG_LEVEL=info

# Sentry DSN for error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Sentry environment
SENTRY_ENVIRONMENT=production

# Sentry sample rate (0.0 to 1.0)
SENTRY_TRACES_SAMPLE_RATE=1.0

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# ----------------------------------------------------------------
# DATABASE (Optional - for persistent storage)
# ----------------------------------------------------------------
# If you want to use PostgreSQL instead of/in addition to Redis
# DATABASE_URL=postgresql://user:password@host:5432/database

# If you want to use MongoDB
# MONGODB_URI=mongodb://user:password@host:27017/database

# ----------------------------------------------------------------
# EMAIL CONFIGURATION (Optional - for notifications)
# ----------------------------------------------------------------
# SMTP settings for sending emails
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# SendGrid (alternative)
# SENDGRID_API_KEY=your-sendgrid-api-key
# SENDGRID_FROM_EMAIL=noreply@your-domain.com

# ----------------------------------------------------------------
# WEBHOOK CONFIGURATION (Optional)
# ----------------------------------------------------------------
# Webhook URLs for external integrations
# WEBHOOK_TASK_COMPLETED=https://your-webhook.com/task-completed
# WEBHOOK_APPROVAL_NEEDED=https://your-webhook.com/approval-needed
# WEBHOOK_ACHIEVEMENT_UNLOCKED=https://your-webhook.com/achievement

# ----------------------------------------------------------------
# FEATURE FLAGS
# ----------------------------------------------------------------
# Enable/disable features
ENABLE_WEBSOCKET=true
ENABLE_GAMIFICATION=true
ENABLE_AUTO_APPROVAL=true
ENABLE_ANALYTICS=true
ENABLE_API_KEYS=true

# ----------------------------------------------------------------
# PAYMENT & BILLING (Optional)
# ----------------------------------------------------------------
# Stripe for payment processing
# STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
# STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
# STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ----------------------------------------------------------------
# GITHUB INTEGRATION (for repository access)
# ----------------------------------------------------------------
# GitHub Personal Access Token (for jasonsprouse/y8-app and jasonsprouse/the-beach)
GITHUB_TOKEN=ghp_your-github-personal-access-token
GITHUB_OWNER=jasonsprouse
GITHUB_REPO_Y8=y8-app
GITHUB_REPO_BEACH=the-beach

# ----------------------------------------------------------------
# AI MODEL CONFIGURATION (Optional)
# ----------------------------------------------------------------
# OpenAI for AI agent reasoning
# OPENAI_API_KEY=sk-your-openai-api-key
# OPENAI_MODEL=gpt-4

# Anthropic Claude
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
# ANTHROPIC_MODEL=claude-3-opus-20240229

# ----------------------------------------------------------------
# CLOUDFLARE / CDN (Optional)
# ----------------------------------------------------------------
# Cloudflare for caching and DDoS protection
# CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
# CLOUDFLARE_ZONE_ID=your-zone-id

# ----------------------------------------------------------------
# BACKUP & STORAGE (Optional)
# ----------------------------------------------------------------
# AWS S3 for file storage
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-bucket-name

# ----------------------------------------------------------------
# PERFORMANCE TUNING
# ----------------------------------------------------------------
# Node.js max memory (in MB)
NODE_OPTIONS=--max-old-space-size=4096

# Worker threads for parallel processing
WORKER_THREADS=4

# Connection pool size
CONNECTION_POOL_SIZE=10

# ----------------------------------------------------------------
# DEVELOPMENT/DEBUGGING (Set to false in production)
# ----------------------------------------------------------------
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_SWAGGER=false
ENABLE_PLAYGROUND=false

# ----------------------------------------------------------------
# HEALTH CHECKS & UPTIME
# ----------------------------------------------------------------
# Health check endpoint path
HEALTH_CHECK_PATH=/health

# Uptime monitoring webhook
# UPTIME_WEBHOOK_URL=https://uptime-monitor.com/webhook

# ----------------------------------------------------------------
# IP WHITELISTING (Optional)
# ----------------------------------------------------------------
# Comma-separated list of allowed IP addresses for admin endpoints
# ALLOWED_ADMIN_IPS=1.2.3.4,5.6.7.8

# ----------------------------------------------------------------
# NODE/SERVER CONFIGURATION
# ----------------------------------------------------------------
# Node IP for multi-server deployments
NODE_IP=127.0.0.1

# Node name/ID for identification in logs
NODE_NAME=npe-backend-1

# Cluster mode (for PM2 or multi-instance)
CLUSTER_MODE=false
CLUSTER_INSTANCES=2

# ================================================================
# DEPLOYMENT PLATFORM SPECIFIC
# ================================================================

# ----------------------------------------------------------------
# VERCEL
# ----------------------------------------------------------------
# VERCEL_URL (automatically set by Vercel)
# VERCEL_ENV=production

# ----------------------------------------------------------------
# HEROKU
# ----------------------------------------------------------------
# HEROKU_APP_NAME=your-app-name
# HEROKU_SLUG_COMMIT=git-commit-hash

# ----------------------------------------------------------------
# AWS / ECS
# ----------------------------------------------------------------
# AWS_EXECUTION_ENV=AWS_ECS_FARGATE
# AWS_REGION=us-east-1

# ----------------------------------------------------------------
# DOCKER
# ----------------------------------------------------------------
# DOCKER_CONTAINER_ID=container-id
# DOCKER_IMAGE_TAG=latest

# ================================================================
# QUICK START MINIMAL CONFIGURATION
# ================================================================
# For a minimal working setup, you MUST set these:
# 1. NODE_ENV=production
# 2. SESSION_SECRET=<generate-strong-secret>
# 3. REDIS_URL=redis://your-redis-host:6379
# 4. LIT_NETWORK=datil-dev
# 5. CORS_ORIGIN=https://your-y8-app.com
# 6. At least one social auth provider (Google, Discord, or GitHub)
# ================================================================

# ================================================================
# SECURITY CHECKLIST
# ================================================================
# [ ] All secrets are randomly generated and unique
# [ ] SESSION_SECRET is at least 64 characters
# [ ] ENCRYPTION_KEY is exactly 32 bytes (64 hex chars)
# [ ] Redis password is set if Redis is publicly accessible
# [ ] CORS_ORIGIN only includes trusted domains
# [ ] Social auth secrets are from production OAuth apps
# [ ] .env file is added to .gitignore
# [ ] Environment variables are stored securely (Vercel/Heroku secrets)
# [ ] API rate limits are configured appropriately
# [ ] Sentry is configured for error tracking
# [ ] HTTPS is enforced (APP_URL and API_URL use https://)
# ================================================================
